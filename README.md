## Обзор

Этот репозиторий содержит конфигурацию Docker Compose для развертывания сервера WireGuard VPN с использованием образа `wg-easy`. Настройка включает несколько контейнеров: сервер WireGuard, клиент-пир, шлюз для захвата пакетов и контейнер Nginx для возможных веб-сервисов. Эта конфигурация предназначена для обеспечения безопасного доступа к вашей сети и упрощения взаимодействия между различными подсетями.

## Архитектура

Архитектура состоит из трех сетей:

- **net_A**: Используется для клиента-пира и шлюза.
- **net_B**: Используется для сервера WireGuard и шлюза.
- **net_C**: Используется для контейнера Nginx.

### Описание контейнеров

1. **wg-easy**
   - **Образ**: `ghcr.io/wg-easy/wg-easy`
   - **Порты**: 
     - UDP 51820
     - TCP 51821
   - **Переменные окружения**:
     - `WG_HOST`: IP-адрес сервера WireGuard.
     - `PASSWORD_HASH`: Хэшированный пароль для доступа к веб-интерфейсу.
     - `WG_ALLOWED_IPS`: Разрешенные IP-диапазоны для клиентов.
   - **Тома**: Монтирует конфигурационные файлы с хоста.

2. **peer**
   - **Сборка**: Пользовательский Dockerfile на базе Fedora.
   - **Тома**: Монтирует конфигурационные файлы клиента.
   - **Зависимости**: Ожидает запуска контейнера `wg-easy`.

3. **gateway**
   - **Образ**: `nicolaka/netshoot`
   - **Команда**: Захватывает пакеты с помощью tcpdump.
   - **Тома**: Сохраняет захваченные пакеты на хосте.

4. **nginx**
   - **Образ**: `nginx`
   - Служит веб-сервером, потенциально для размещения фронтенда или API.

## Установка

### Предварительные требования

- Установленные Docker и Docker Compose на вашем компьютере.

## Скрины о проделанной работе 
![Описание изображения](images/photo_1_2024-12-08_16-36-35.jpg)
